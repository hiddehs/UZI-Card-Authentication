<!DOCTYPE html>

<html>
<head>
    <title>UZI Authenticatie Client PoC Demo</title>
    <style>
        body{
            font-family: Arial;
            margin: 0 auto;
            color: #1f1f1f;
        }
        .button{
            margin: 2rem;
            cursor:pointer;
            display: inline-block;
            background: #f7faff;
            padding: 1rem;
            border: 1px solid rgba(0,0,0,.2);
            border-radius: 2px;
            font-size: 1rem;
        }
        .button:hover{
            border: 1px solid rgba(0,0,0,1);
        }
    </style>
    
</head>
<body>
<div>
    <button class="button">Authoriseer met UZI-pas</button>
</div>
<script>
    document.querySelector('.button').addEventListener('click', async function(){
    
        const response = await fetch('https://localhost:5001/certificate', {
          method: 'GET',
          headers: {
            'Authentication': 'Bearer <insert_client_jwt_here>',
          },
        });
        response.json().then((d)=>{
          if(d.jwt){
            alert("Success!")
            console.log(d.jwt);            
          }
          // TODO: Send jwt to back-end for back-end side decrypt+-code and double RolCode + PassType check in 'authentication' jwt claim 
        });
    });        
</script>
</body>
</html>